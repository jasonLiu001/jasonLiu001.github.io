---
title: "微信小程序开发笔记"
date: 2017-11-30 16:21:00 +0800
---

+ `wx.authorize`

  该授权接口可以多次调用，接口内部已经有处理，例如如下代码：

  ```javascript
  wx.getSetting({
      success(res) {
       /*
          下面的wx.authorize在res.authSetting['scope.record']两种值的情况下会调用
          	1. undefined--用户未授权
          	2. false--用户之前已拒绝授权
       */      
          if (!res.authSetting['scope.record']) {
              wx.authorize({
                  scope: 'scope.record',
                  success() {
                      // 用户已经同意小程序使用录音功能，后续调用 wx.startRecord 接口不会弹窗询问
                      wx.startRecord()
                  }
              })
          }
      }
  })
  ```

+ 微信模板使用

  + 模板导入：import -- 引入的目标文件通过template定义的

    ```html
    <import src="item.wxml"/>
    <template is="item" data="{{text: 'forbar'}}"/>
    ```

  + 代码片段导入：include -- 和import不同，它引入的是代码片段。非template或wxs定义的代码片段